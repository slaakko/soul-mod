<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Compiling</title>
    <link href="../../style/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <h1>
        1.3.3 Compiling 
    </h1
>
    <h2>
        Generating C++ Files
    </h2>

    <p>
        C++ source code files can be generated from files referenced in a parser .spg project file by running the parser generator 'spg':
    </p>

    <ul>
        <div class="console">
			C:\minilang>spg -v minilang.spg<br/>
			> C:/minilang/minilang.spg<br/>
			generating parsers for project 'minilang.spg'...<br/>
			> C:/minilang/type_parser.parser<br/>
			linking...<br/>
			> C:/minilang/type_parser.parser<br/>
			generating code...<br/>
			==> C:/minilang/type_parser.cppm<br/>
			==> C:/minilang/type_parser.cpp<br/>
			generating rule name module...<br/>
			==> C:/minilang/minilang_rules.cppm<br/>
			==> C:/minilang/minilang_rules.cpp<br/>
			parsers for project 'minilang.spg' generated successfully.<br/>
		</div>
    </ul>

    <h2>
        Adding the Generated Files
    </h2>

    <p>
        To add the generated files to the project:
    </p>

    <ul>
        <li>
            Right-click your project in the Solution Explorer and select 'Add | Existing Item...'
        </li>
        <li>
            Add the following files to the project:
            <ul>
                <li><span class="mono">type_parser.cppm</span> contains a module interface unit of a parser module</li>
                <li><span class="mono">type_parser.cpp</span> contains a module implementation unit of a parser module</li>
                <li><span class="mono">minilang_rules.cppm</span> contains a module interface unit of a rule name module</li>
                <li><span class="mono">minilang_rules.cpp</span> contains a module implementation unit of a rule name module</li>
            </ul>
        </li>
    </ul>

    <h2>
        Adding Support for Soul
    </h2>

    <p>
        At the moment probably the easiest way to add support for Soul is to add the required Soul library projects to the solution and then add references to the required Soul libraries.
    </p>

    <ul>
        <li>
            Right-click the solution in the Solution Explorer and select 'Add | Existing Project...',
            navigate to the <span class="mono">C:\soul-4.0.0\soul\ast</span> folder and add the <span class="mono">ast.vcxproj</span> to the solution.
        </li>
        <li>
            Do the same for <span class="mono">C:\soul-4.0.0\soul\lexer</span>, <span class="mono">C:\soul-4.0.0\soul\parser</span> and <span class="mono">C:\soul-4.0.0\util</span>
            projects.
        </li>
        <li>Expand your project in the Solution Explorer, right-click 'References' and select 'Add Reference...'</li>
        <li>Add a reference to the <span class="mono">ast</span>, <span class="mono">lexer</span>, <span class="mono">parser</span> and <span class="mono">util</span> module.</li>
    </ul>

    <h2>
        Compiling the Solution
    </h2>

    <ul>
        <li>Select the <span class="mono">64 | Debug</span> configuration.</li>
        <li>Select the <span class="mono">Build | Build Solution</span> command.</li>
        <li>The required Soul libraries and then your project should compile successfully.</li>
        <li>Select the <span class="mono">64 | Release</span> configuration</li>
        <li>Select the <span class="mono">Build | Build Solution</span> command.</li>
        <li>The required Soul libraries and then your project should compile successfully.</li>
    </ul>

</body>
</html>
