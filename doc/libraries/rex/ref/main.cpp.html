<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
    <title>main.cpp</title>
    <style>
      div.cpp
{
 background-color: #e6f7ff;
 margin: 20px;
 padding: 20px;
 font-family: monospace;
}

.cpp .kw
{
 color: #0000ff;
}

.cpp .id
{
 color: #000000;
}

.cpp .number
{
 color: #000000;
}

.cpp .string
{
 color: #a31515;
}

.cpp .pp
{
 color: #e6e7e8;
}

.cpp .other
{
 color: #000000;
}

.cpp .comment
{
 color: #57a64a;
}

</style>
  </head>
  <body>
    <div class="cpp">
      <span xml:space="preserve"><span class="comment">// main.cpp:
</span></span>
      <br/>
      <span xml:space="preserve"/>
      <br/>
      <span xml:space="preserve"><span class="kw">import</span>&nbsp;<span class="id">std</span><span class="other">.</span><span class="id">core</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve"><span class="kw">import</span>&nbsp;<span class="id">std</span><span class="other">.</span><span class="id">filesystem</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve"><span class="kw">import</span>&nbsp;<span class="id">util</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve"><span class="kw">import</span>&nbsp;<span class="id">soul</span><span class="other">.</span><span class="id">rex</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve"/>
      <br/>
      <span xml:space="preserve"><span class="kw">int</span>&nbsp;<span class="id">main</span><span class="other">(</span><span class="other">)</span></span>
      <br/>
      <span xml:space="preserve"><span class="other">{</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">try</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">util</span><span class="other">::</span><span class="id">Init</span><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">soul</span><span class="other">::</span><span class="id">rex</span><span class="other">::</span><span class="id">context</span><span class="other">::</span><span class="id">Context</span>&nbsp;<span class="id">context</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">soul</span><span class="other">::</span><span class="id">rex</span><span class="other">::</span><span class="id">nfa</span><span class="other">::</span><span class="id">Nfa</span>&nbsp;<span class="id">nfa</span>&nbsp;<span class="other">=</span>&nbsp;<span class="id">soul</span><span class="other">::</span><span class="id">rex</span><span class="other">::</span><span class="id">CompileFilePattern</span><span class="other">(</span><span class="id">context</span><span class="other">,</span>&nbsp;<span class="string">"*.xml"</span><span class="other">)</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">for</span>&nbsp;<span class="other">(</span><span class="kw">const</span>&nbsp;<span class="kw">auto</span><span class="other">&amp;</span>&nbsp;<span class="id">entry</span>&nbsp;<span class="other">:</span>&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">filesystem</span><span class="other">::</span><span class="id">directory_iterator</span><span class="other">{</span>&nbsp;<span class="string">"C:/soul-4.0.0/soul/xml/xml_test_data"</span>&nbsp;<span class="other">}</span><span class="other">)</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">if</span>&nbsp;<span class="other">(</span><span class="id">entry</span><span class="other">.</span><span class="id">is_regular_file</span><span class="other">(</span><span class="other">)</span><span class="other">)</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">string</span>&nbsp;<span class="id">fileName</span>&nbsp;<span class="other">=</span>&nbsp;<span class="id">entry</span><span class="other">.</span><span class="id">path</span><span class="other">(</span><span class="other">)</span><span class="other">.</span><span class="id">filename</span><span class="other">(</span><span class="other">)</span><span class="other">.</span><span class="id">generic_string</span><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">if</span>&nbsp;<span class="other">(</span><span class="id">soul</span><span class="other">::</span><span class="id">rex</span><span class="other">::</span><span class="id">PatternMatch</span><span class="other">(</span><span class="id">fileName</span><span class="other">,</span>&nbsp;<span class="id">nfa</span><span class="other">)</span><span class="other">)</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">cout</span>&nbsp;<span class="other">&lt;&lt;</span>&nbsp;<span class="id">fileName</span>&nbsp;<span class="other">&lt;&lt;</span>&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">endl</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
      <br/>
      <span xml:space="preserve"/>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">catch</span>&nbsp;<span class="other">(</span><span class="kw">const</span>&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">exception</span><span class="other">&amp;</span>&nbsp;<span class="id">ex</span><span class="other">)</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">{</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">cerr</span>&nbsp;<span class="other">&lt;&lt;</span>&nbsp;<span class="id">ex</span><span class="other">.</span><span class="id">what</span><span class="other">(</span><span class="other">)</span>&nbsp;<span class="other">&lt;&lt;</span>&nbsp;<span class="id">std</span><span class="other">::</span><span class="id">endl</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">return</span>&nbsp;<span class="number">1</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="other">}</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">util</span><span class="other">::</span><span class="id">Done</span><span class="other">(</span><span class="other">)</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve">&nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">return</span>&nbsp;<span class="number">0</span><span class="other">;</span></span>
      <br/>
      <span xml:space="preserve"><span class="other">}</span></span>
      <br/>
    </div>
  </body>
</html>
